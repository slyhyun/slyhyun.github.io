---
title: 프로그래밍언어론 레포트
date: 2023-09-03
---

큰 정수를 저장하는 파이썬의 효율적 기술에 대하여 탐구하는 활동

<!--more-->
```
-컴퓨터공학부 202011680 안현 PL 레포트
-주제
큰 정수를 저장하는 파이썬의 효율적 기술
-서론
C언어와 같은 전통적인 프로그래밍 언어에서는 데이터 타입과 자료형에 따라서 저장할 수 있는 값의 범위가 달라집니다. 예를 들어, short와 int, long과 long long 등으로 저장할 수 있는 값의 크기를 정해줍니다. 하지만 파이썬에는 이러한 자료형이 존재하지 않습니다. 그렇다면 파이썬은 어떻게 큰 정수를 저장하며, 자료형을 사용하지 않고도 어떻게 안정적으로 데이터를 처리할 수 있는지에 대해서 알아보겠습니다.
-본론
파이썬은 모든 객체를 C 구조체로 표현합니다. 그중 모든 정수는 “PyLongObject”라는 내부 구조체를 사용하여 관리됩니다. 이 구조체의 특징은 임의 정밀도 산술을 구현하는데 꼭 필요하다는 것입니다. 그렇다면 우선 임의 정밀도 산술이 무엇인지 알아야 합니다. 임의 정밀도는 빅넘 산술이나 다중 정밀도 산술이라고도 불립니다. 대부분의 프로그래밍 언어에서 사용되는 8~64비트의 정밀도를 제공하는 고정 정밀도 산술과 대조됩니다. 거의 무한한 크기의 숫자와 높은 정확도로 계산이 가능하다는 장점에 비해, 속도가 매우 느리다는 단점이 있습니다. 또한 고정된 비트 수가 아닌 가변 길이 숫자 배열을 사용한다는 특징을 가집니다. 그렇기 때문에, 컴퓨터에서 매우 큰 숫자나 높은 정밀도를 요구하는 계산을 처리하는 데에 사용됩니다. 이번에는 PyLongObject에 대해서 알아보도록 하겠습니다. 우선 파이썬에서는 모든 데이터 타입이 객체로 취급되고, 이것은 정수도 마찬가지입니다. 그리고 이러한 객체들을 구조체를 사용해서 표현해야 하는데, 정수를 표현하는 구조체가 바로 PyLongObject인 것입니다. 그럼 PyLongObject가 정수를 저장하는 방법에 대해서 알아보도록 하겠습니다. 이 구조체는 가변 길이 배열(크기가 바뀔 수 있는 배열)인 ob_digit 배열을 사용하여 배열을 저장합니다. 이 배열은 digit이라고 불리는 요소를 가지는데, 일반적으로 30비트 단위(일부 시스템에서는 15비트)로 digit을 저장합니다. 그렇다면 30비트 digit은 2^30의 값을 가지는 것입니다. 만약 이보다 큰 수를 저장해야 한다면, 여러 개의 digit(2^30)으로 나누어 ob_digit 배열에 연속적으로 저장하면 됩니다. 그리고 정수의 부호는 ob_size 필드에 저장되어 양수, 음수, 그리고 0을 나타냅니다. 또한 ob_size의 절댓값은 digit의 수를 나타냅니다. 결국 파이썬에서는 PyLongObject를 사용하여 임의 정밀도 산술을 할 수 있게 되는 것입니다. 각 수의 연산은 ob_digit 배열의 각 digit를 독립적인 수처럼 사용하여 덧셈, 뺄셈, 곱셈, 나눗셈 등의 연산을 수행합니다. 이렇듯 PyLongObject 구조체를 활용한 임의 정밀도 연산은 각 연산이 여러 digit를 처리해야 하기 때문에, 고정 정밀도 산술에 비해 느릴 수 있습니다. 그러나 수의 크기를 신경 쓰고 각 수의 범위에 맞는 자료형을 직접 써줘야 하는 C언어나 다른 언어에 비해서, Python의 이러한 연산은 사용자가 수의 범위나 자료형을 신경 쓰지 않고도 큰 정수를 편리하게 사용할 수 있고, 더 나아가 거의 무한한 크기와 높은 정확도를 가지고 연산이 가능합니다.-결론정수를 저장하기 위해서 자료형을 사용하여 고정적인 크기를 지정해 주는 일반적인 프로그래밍 언어와 다르게, 파이썬은 임의 정밀도 연산이라는 기술을 사용하고, 이를 사용하기 위해 PyLongObject라는 구조체를 사용합니다. 이 구조체는 ob_digit이라는 가변 길이 배열을 사용하여 정수를 저장하는 구조체입니다. 이 배열은 크기가 30비트인 digit이라는 요소를 사용하여 큰 수를 저장합니다. 그리고 배열의 크기는 digit의 수에 따라 유동적으로 변할 수 있기 때문에, 아무리 큰 수라도 쉽고 편하게 저장이 가능한 것입니다. 그리고 연산을 할 때에도, digit를 독립적인 수처럼 사용할 수 있습니다. 이러한 특징 때문에, 거의 무한한 크기와 높은 정확도를 가지고 연산이 가능하다는 장점과, 각 연산이 여러 요소를 처리해야 하므로 느린 속도를 가지고 있다는 단점을 가지고 있습니다. 그렇지만 큰 정수를 자료형과 같은 복잡한 세부 사항을 신경 쓰지 않고 편하게 사용할 수 있기 때문에, 파이썬이라는 언어가 개발자들에게 쉽고 매력적으로 다가갈 수 있고, 또한 많은 개발자들이 파이썬을 선택하게 된 것 같습니다.
```